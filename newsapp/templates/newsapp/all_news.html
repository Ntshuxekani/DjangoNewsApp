{% extends "newsapp/base.html" %}
{% load static %}

{% block content %}

<div class="page-container">

    <h1 class="page-title">üì∞ All News</h1>
    <p class="intro-text">Browse through all the latest news from around the world.</p>

    {% if all_news %}
    <div class="news-grid">
        {% for article in all_news %}
        <div class="news-card">
            {% if article.urlToImage and 'http' in article.urlToImage %}
            <img src="{{ article.urlToImage }}" alt="News Image" class="news-image">
            {% else %}
            <img src="{% static 'images/no-image.jpg' %}" alt="No Image" class="news-image">
            {% endif %}


            <h3>{{ article.title }}</h3>

            {% if article.description %}
            <p>{{ article.description }}</p>
            {% else %}
            <p>No description available.</p>
            {% endif %}

            <a href="{{ article.url }}" target="_blank" class="btn-main">Read Full Article</a>

            <a href="{% url 'toggle_favourite' article.id %}">
                {% if article.is_favourite %}
                <span class="fav-icon active">‚ù§Ô∏è</span>
                {% else %}
                <span class="fav-icon">ü§ç</span>
                {% endif %}
            </a>

        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>No news available at the moment. Please try again later.</p>
    {% endif %}

</div>

{% endblock %}